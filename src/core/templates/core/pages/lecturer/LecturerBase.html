{% extends 'core/extends/base.html' %}
{% load static %}
{% block head_stylesheets %}{% endblock head_stylesheets %}
{% block rightbar %}{% endblock rightbar %}


{% block content %}
<div class="wrapper d-flex flex-column flex-row-fluid mt-5 mt-lg-10" id="kt_wrapper">
    <!--begin::Content-->
    <div class="content flex-column-fluid" id="kt_content">
        <!--begin::Post-->
        <div class="post" id="kt_post">
            <!--begin::Navbar-->
            <div class="card mb-6">
                <div class="card-body pt-9 pb-0">
                    <!--begin::Details-->
                    <div class="d-flex flex-wrap flex-sm-nowrap">
                        <!--begin: Pic-->
                        <div class="me-7 mb-4">
                            <div class="symbol symbol-100px symbol-lg-160px symbol-fixed position-relative">
                                <img src="{% get_media_prefix %}uploads/lecturers/{{lecturer.slug}}_160x160.webp" alt="image" />
                                <div class="position-absolute translate-middle bottom-0 start-100 mb-6 bg-success rounded-circle border border-4 border-body h-20px w-20px"></div>
                            </div>
                        </div>
                        <!--end::Pic-->
                        <!--begin::Info-->
                        <div class="flex-grow-1">
                            <!--begin::Title-->
                            <div class="d-flex justify-content-between align-items-start flex-wrap mb-2">
                                <!--begin::User-->
                                <div class="d-flex flex-column">
                                    <!--begin::Name-->
                                    <div class="d-flex align-items-center mb-2">
                                        <h1 id="h1_lecturer_name">
                                            <a class="text-gray-900 fs-2 fw-bold me-1">
                                                {{lecturer.fullname}}
                                            </a>
                                        </h1>
                                        <i
                                            class="ki-duotone ki-verify fs-1 text-primary"
                                            data-bs-toggle="tooltip"
                                            data-bs-custom-class="tooltip-inverse"
                                            data-bs-placement="top"
                                            title="Wykładowca zweryfikowany"
                                            style="cursor: pointer;"
                                        >
                                            <span class="path1"></span>
                                            <span class="path2"></span>
                                        </i>
                                    </div>
                                    <!--end::Name-->
                                    <!--begin::Info-->
                                    <div class="d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2">
                                        {% if lecturer.profession %}
                                        <span class="d-flex align-items-center text-gray-400 me-5 mb-2">
                                            <i class="ki-duotone ki-profile-circle fs-4 me-1">
                                                <span class="path1"></span>
                                                <span class="path2"></span>
                                                <span class="path3"></span>
                                            </i>
                                            {{lecturer.profession}}
                                        </span>
                                        {% endif %}
                                        <span class="d-flex align-items-center text-gray-400 mb-2">
                                            <i class="ki-duotone ki-cd fs-4 me-1">
                                                <span class="path1"></span>
                                                <span class="path2"></span>
                                            </i>
                                            {% for category in lecturer.categories.all %}
                                            {% if forloop.last %}
                                              {{category}}
                                            {% else %}
                                              {{category}},
                                            {% endif %}
                                          {% endfor %}
                                        </span>
                                    </div>
                                    <!--end::Info-->
                                </div>
                                <!--end::User-->
                                <!--begin::Actions-->
                                <div class="d-flex my-4">
                                    <a
                                        href="{% url 'core:lecturer_opinion_form_page' slug=lecturer.slug %}#h1_lecturer_name"
                                        class="btn btn-sm btn-primary me-3">
                                        Prześlij opinie
                                    </a>
                                    {% if request.user.is_staff %}
                                    <!--begin::Menu-->
                                    <div class="me-0">
                                        <button class="btn btn-sm btn-icon btn-bg-light btn-active-color-primary" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
                                            <i class="ki-solid ki-dots-horizontal fs-2x me-1"></i>
                                        </button>
                                        <!--begin::Menu 3-->
                                        <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg-light-primary fw-semibold w-200px py-3" data-kt-menu="true" style="">
                                            <!--begin::Heading-->
                                            <div class="menu-item px-3">
                                                <div class="menu-content text-muted pb-2 px-3 fs-7 text-uppercase">
                                                    Wykładowca
                                                </div>
                                            </div>
                                            <!--end::Heading-->
                                            <!--begin::Menu item-->
                                            <div class="menu-item px-3">
                                                <a href="{% url 'admin:core_lecturer_change' object_id=lecturer.id %}" class="menu-link px-3">
                                                    Edytuj w CMS
                                                </a>
                                            </div>
                                            <!--end::Menu item-->
                                        </div>
                                        <!--end::Menu 3-->
                                    </div>
                                    <!--end::Menu-->
                                    {% endif %}
                                </div>
                                <!--end::Actions-->
                            </div>
                            <!--end::Title-->
                            <!--begin::Stats-->
                            <div class="d-flex flex-wrap flex-stack">
                                <!--begin::Wrapper-->
                                <div class="d-flex flex-column flex-grow-1 pe-8">
                                    <!--begin::Stats-->
                                    <div class="d-flex flex-wrap">
                                        <!--begin::Stat-->
                                        <div class="border border-gray-300 border-dashed rounded min-w-125px py-3 px-4 me-6 mb-3">
                                            <!--begin::Number-->
                                            <div class="d-flex align-items-center">
                                                <div class="fs-2 fw-bold counted">
                                                    <div class="rating">
                                                        <div class="rating-label checked">
                                                            <i class="ki-duotone ki-star fs-1"></i>
                                                        </div>
                                                        <div class="rating-label checked">
                                                            <i class="ki-duotone ki-star fs-1"></i>
                                                        </div>
                                                        <div class="rating-label checked">
                                                            <i class="ki-duotone ki-star fs-1"></i>
                                                        </div>
                                                        <div class="rating-label checked">
                                                            <i class="ki-duotone ki-star fs-1"></i>
                                                        </div>
                                                        <div class="rating-label checked">
                                                            <i class="ki-duotone ki-star fs-1"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--end::Number-->
                                            <!--begin::Label-->
                                            <div class="fw-semibold fs-6 text-gray-400">
                                                Opinie o wykładowcy
                                            </div>
                                            <!--end::Label-->
                                        </div>
                                        <!--end::Stat-->
                                    </div>
                                    <!--end::Stats-->
                                </div>
                                <!--end::Wrapper-->
                            </div>
                            <!--end::Stats-->
                        </div>
                        <!--end::Info-->
                    </div>
                    <!--end::Details-->
                    <!--begin::Navs-->
                    <ul class="nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bold">
                        {% for tab_name, tab_url, tab_is_active, tab_icon in tabs %}
                        <!--begin::Nav item-->
                        <li class="nav-item mt-2">
                            <a
                                class="nav-link text-active-primary ms-0 me-10 py-5 {% if tab_is_active %}active{% endif %}"
                                href="{{tab_url}}"
                            >   
                                {% if tab_icon %}
                                    <i class="ki-duotone {{tab_icon}} fs-1 me-2"><i class="path1"></i><i class="path2"></i></i>
                                {% endif %}
                                {{tab_name}}
                            </a>
                        </li>
                        <!--end::Nav item-->
                        {% endfor %}
                    </ul>
                    <!--begin::Navs-->
                </div>
            </div>
            <!--end::Navbar-->
            <!--begin::Row-->
            <div class="row g-6 g-xl-9">
                <!--begin::Col-->
                {% block lecturer_main_col %}
                <div class="col-xl-8">
                {% endblock lecturer_main_col %}
                    {% block lecturer_content %}{% endblock lecturer_content %}
                </div>

                {% block lecturer_rightbar %}
                <div class="col-xl-4">
                    <div
                        class="card card-flush mb-0"
                        data-kt-sticky="true"
                        data-kt-sticky-name="subscription-summary"
                        data-kt-sticky-offset="{default: false, lg: '200px'}"
                        data-kt-sticky-width="{lg: '250px', xl: '300px'}"
                        data-kt-sticky-left="auto"
                        data-kt-sticky-top="150px"
                        data-kt-sticky-animation="false"
                        data-kt-sticky-zindex="95"
                    >
                        {% block lecturer_rightbar_content %}{% endblock lecturer_rightbar_content %}
                    </div>
                </div>
                {% endblock lecturer_rightbar %}
                <!--end::Col-->
            </div>
            <!--end::Row-->
        </div>
        <!--end::Post-->
    </div>
    <!--end::Content-->
</div>

{% endblock content %}


{%block body_scripts %}

{% endblock body_scripts %}